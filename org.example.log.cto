namespace org.example.carrental

// ENUMS
enum LicenseStatus {
  o PENDING
  o APPROVED
  o REJECTED
  
}
enum LicenseSecurityStatus{
  o EXPIRED
  o REVOKED
}

enum CarStatus {
  o AVAILABLE
  o SELECTED
  o DELIVERED
  o CHECKED
  o RETURNED
  o DAMAGED
  

}
concept Address{
  o String country
}

// ASSETS
asset License identified by licenseId {
  o String licenseId
  --> Customer customer //need concept
  o LicenseStatus licenseStatus
  //no need check nationality 
}

asset Car identified by carId {
  o String carId
  o String brand
  o String model
  o String color
  o Integer year
  o Double rentalRate //? CAN I write this
  o Boolean available
  o CarStatus carStatus
  //need to add renting day
}

// PARTICIPANTS
abstract participant CarRenting identified by personId{
  o String personId
  o String name
  o String lastName 
  o Address address
}
participant Customer extends CarRenting{
  //license releatinship needed?
  -->License license
}

participant Manager  extends CarRenting{
}

participant SalesManager  extends CarRenting{
  
}

participant CustomerSupport   extends CarRenting {
  
}

// TRANSACTIONS + EVENTS
transaction UploadLicense {
  o String licenseId
  o LicenseStatus  licenseStatus
  --> Customer customer
}

event UploadLicenseEvent {
  o LicenseStatus  licenseStatus
  --> License license
}

transaction CheckLicense {
  o LicenseStatus  licenseStatus
  --> License license
 
}

event CheckLicenseEvent {
  o LicenseStatus  licenseStatus
  --> License license
 
}
transaction SelectCar {
  --> Car car
  o String carId
  o CarStatus carStatus
}

event SelectCarEvent {
 
  --> Car car
}

transaction DeliverCar {
  --> Car car
 
  o CarStatus carStatus
}

event DeliverCarEvent {
  --> Car car
  
}

transaction CheckCar {
  --> Car car
  o CarStatus carStatus
}

event CheckCarEvent {
  --> Car car
}

transaction ReturnCar {
  --> Car car
  o CarStatus carStatus
}

event ReturnCarEvent {
  --> Car car
}

// TRANSACTIONS FOR SETUP
transaction CreateDemoParticipants {
}
